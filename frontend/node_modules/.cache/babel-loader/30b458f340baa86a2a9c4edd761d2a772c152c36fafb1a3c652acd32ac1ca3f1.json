{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport io from 'socket.io-client';\nconst INITIAL_STATE = {\n  connected: false,\n  marketMetrics: {\n    totalMarkets: 0,\n    activeMarkets: 0,\n    lastUpdate: '-'\n  },\n  systemStatus: {\n    cpuUsage: 0,\n    memoryUsage: 0,\n    uptime: 0,\n    lastBlock: 0\n  },\n  transactions: [],\n  profitData: []\n};\nexport const useWebSocket = () => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const [state, setState] = useState(INITIAL_STATE);\n  const connect = useCallback(() => {\n    const newSocket = io('http://localhost:3001', {\n      transports: ['websocket'],\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: Infinity\n    });\n    newSocket.on('connect', () => {\n      setState(prev => ({\n        ...prev,\n        connected: true\n      }));\n    });\n    newSocket.on('disconnect', () => {\n      setState(prev => ({\n        ...prev,\n        connected: false\n      }));\n    });\n    newSocket.on('marketMetrics', data => {\n      setState(prev => ({\n        ...prev,\n        marketMetrics: {\n          ...data,\n          lastUpdate: new Date().toLocaleTimeString()\n        }\n      }));\n    });\n    newSocket.on('systemStatus', data => {\n      setState(prev => ({\n        ...prev,\n        systemStatus: data\n      }));\n    });\n    newSocket.on('transaction', data => {\n      setState(prev => ({\n        ...prev,\n        transactions: [data, ...prev.transactions].slice(0, 100)\n      }));\n    });\n    newSocket.on('profit', data => {\n      setState(prev => ({\n        ...prev,\n        profitData: [...prev.profitData, data].slice(-50)\n      }));\n    });\n    setSocket(newSocket);\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n  useEffect(() => {\n    const cleanup = connect();\n    return cleanup;\n  }, [connect]);\n  return state;\n};\n_s(useWebSocket, \"zTXkI3GzUNdM6+QQLAJT1vGx7k8=\");","map":{"version":3,"names":["useState","useEffect","useCallback","io","INITIAL_STATE","connected","marketMetrics","totalMarkets","activeMarkets","lastUpdate","systemStatus","cpuUsage","memoryUsage","uptime","lastBlock","transactions","profitData","useWebSocket","_s","socket","setSocket","state","setState","connect","newSocket","transports","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","Infinity","on","prev","data","Date","toLocaleTimeString","slice","close","cleanup"],"sources":["/Users/mitch/Desktop/mevbot/frontend/src/hooks/useWebSocket.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport io, { Socket } from 'socket.io-client';\n\ninterface WebSocketState {\n  connected: boolean;\n  marketMetrics: {\n    totalMarkets: number;\n    activeMarkets: number;\n    lastUpdate: string;\n  };\n  systemStatus: {\n    cpuUsage: number;\n    memoryUsage: number;\n    uptime: number;\n    lastBlock: number;\n  };\n  transactions: Array<{\n    hash: string;\n    type: string;\n    timestamp: string;\n    status: string;\n    profit?: string;\n  }>;\n  profitData: Array<{\n    timestamp: string;\n    profit: number;\n  }>;\n}\n\nconst INITIAL_STATE: WebSocketState = {\n  connected: false,\n  marketMetrics: {\n    totalMarkets: 0,\n    activeMarkets: 0,\n    lastUpdate: '-',\n  },\n  systemStatus: {\n    cpuUsage: 0,\n    memoryUsage: 0,\n    uptime: 0,\n    lastBlock: 0,\n  },\n  transactions: [],\n  profitData: [],\n};\n\nexport const useWebSocket = () => {\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [state, setState] = useState<WebSocketState>(INITIAL_STATE);\n\n  const connect = useCallback(() => {\n    const newSocket = io('http://localhost:3001', {\n      transports: ['websocket'],\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: Infinity,\n    });\n\n    newSocket.on('connect', () => {\n      setState(prev => ({ ...prev, connected: true }));\n    });\n\n    newSocket.on('disconnect', () => {\n      setState(prev => ({ ...prev, connected: false }));\n    });\n\n    newSocket.on('marketMetrics', (data) => {\n      setState(prev => ({\n        ...prev,\n        marketMetrics: {\n          ...data,\n          lastUpdate: new Date().toLocaleTimeString(),\n        },\n      }));\n    });\n\n    newSocket.on('systemStatus', (data) => {\n      setState(prev => ({\n        ...prev,\n        systemStatus: data,\n      }));\n    });\n\n    newSocket.on('transaction', (data) => {\n      setState(prev => ({\n        ...prev,\n        transactions: [data, ...prev.transactions].slice(0, 100),\n      }));\n    });\n\n    newSocket.on('profit', (data) => {\n      setState(prev => ({\n        ...prev,\n        profitData: [...prev.profitData, data].slice(-50),\n      }));\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  useEffect(() => {\n    const cleanup = connect();\n    return cleanup;\n  }, [connect]);\n\n  return state;\n};\n\nexport type { WebSocketState }; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}