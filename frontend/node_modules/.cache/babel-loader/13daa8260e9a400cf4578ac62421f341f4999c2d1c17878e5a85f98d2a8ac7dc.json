{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nconst SOCKET_URL = 'http://localhost:3001';\nexport function useWebSocket() {\n  _s();\n  const [systemStatus, setSystemStatus] = useState(null);\n  const [marketMetrics, setMarketMetrics] = useState(null);\n  const [transactions, setTransactions] = useState([]);\n  const [profitData, setProfitData] = useState([]);\n  const [latestBlock, setLatestBlock] = useState(null);\n  const [connected, setConnected] = useState(false);\n  useEffect(() => {\n    console.log('Initializing Socket.IO connection to:', SOCKET_URL);\n    const socket = io(SOCKET_URL, {\n      // Explicitly configure the connection options\n      transports: ['polling', 'websocket'],\n      timeout: 10000,\n      forceNew: true,\n      autoConnect: true\n    });\n    socket.on('connect', () => {\n      console.log('Successfully connected to WebSocket server with ID:', socket.id);\n      setConnected(true);\n    });\n    socket.on('disconnect', reason => {\n      console.log('Disconnected from WebSocket server, reason:', reason);\n      setConnected(false);\n    });\n    socket.on('connect_error', error => {\n      console.error('Socket.IO connection error:', error);\n      setConnected(false);\n    });\n    socket.on('systemStatus', data => {\n      setSystemStatus(data);\n    });\n    socket.on('marketMetrics', data => {\n      setMarketMetrics(data);\n    });\n    socket.on('transaction', data => {\n      setTransactions(prev => [...prev.slice(-99), data]);\n    });\n    socket.on('profit', data => {\n      setProfitData(prev => [...prev.slice(-49), data]);\n    });\n    socket.on('newBlock', data => {\n      setLatestBlock(data);\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n  return {\n    systemStatus,\n    marketMetrics,\n    transactions,\n    profitData,\n    latestBlock,\n    connected\n  };\n}\n_s(useWebSocket, \"tTb7/ex5lDELpga/2HnlMTRB4kM=\");","map":{"version":3,"names":["useEffect","useState","io","SOCKET_URL","useWebSocket","_s","systemStatus","setSystemStatus","marketMetrics","setMarketMetrics","transactions","setTransactions","profitData","setProfitData","latestBlock","setLatestBlock","connected","setConnected","console","log","socket","transports","timeout","forceNew","autoConnect","on","id","reason","error","data","prev","slice","disconnect"],"sources":["/Users/mitch/Desktop/Organized/Code/mevbot/frontend/src/hooks/useWebSocket.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport io, { Socket } from 'socket.io-client';\n\ninterface SystemStatus {\n  cpuUsage: number;\n  memoryUsage: number;\n  uptime: number;\n  lastBlock: number;\n}\n\ninterface MarketMetrics {\n  totalMarkets: number;\n  activeMarkets: number;\n  lastUpdate: string;\n}\n\ninterface Transaction {\n  hash: string;\n  type: string;\n  timestamp: string;\n  status: string;\n  profit: string;\n}\n\ninterface ProfitData {\n  timestamp: string;\n  profit: number;\n}\n\ninterface BlockData {\n  number: number;\n  timestamp: string;\n}\n\ninterface WebSocketData {\n  systemStatus: SystemStatus | null;\n  marketMetrics: MarketMetrics | null;\n  transactions: Transaction[];\n  profitData: ProfitData[];\n  latestBlock: BlockData | null;\n  connected: boolean;\n}\n\nconst SOCKET_URL = 'http://localhost:3001';\n\nexport function useWebSocket(): WebSocketData {\n  const [systemStatus, setSystemStatus] = useState<SystemStatus | null>(null);\n  const [marketMetrics, setMarketMetrics] = useState<MarketMetrics | null>(null);\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [profitData, setProfitData] = useState<ProfitData[]>([]);\n  const [latestBlock, setLatestBlock] = useState<BlockData | null>(null);\n  const [connected, setConnected] = useState(false);\n\n  useEffect(() => {\n    console.log('Initializing Socket.IO connection to:', SOCKET_URL);\n    \n    const socket = io(SOCKET_URL, {\n      // Explicitly configure the connection options\n      transports: ['polling', 'websocket'],\n      timeout: 10000,\n      forceNew: true,\n      autoConnect: true,\n    });\n\n    socket.on('connect', () => {\n      console.log('Successfully connected to WebSocket server with ID:', socket.id);\n      setConnected(true);\n    });\n\n    socket.on('disconnect', (reason) => {\n      console.log('Disconnected from WebSocket server, reason:', reason);\n      setConnected(false);\n    });\n\n    socket.on('connect_error', (error) => {\n      console.error('Socket.IO connection error:', error);\n      setConnected(false);\n    });\n\n    socket.on('systemStatus', (data: SystemStatus) => {\n      setSystemStatus(data);\n    });\n\n    socket.on('marketMetrics', (data: MarketMetrics) => {\n      setMarketMetrics(data);\n    });\n\n    socket.on('transaction', (data: Transaction) => {\n      setTransactions(prev => [...prev.slice(-99), data]);\n    });\n\n    socket.on('profit', (data: ProfitData) => {\n      setProfitData(prev => [...prev.slice(-49), data]);\n    });\n\n    socket.on('newBlock', (data: BlockData) => {\n      setLatestBlock(data);\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return {\n    systemStatus,\n    marketMetrics,\n    transactions,\n    profitData,\n    latestBlock,\n    connected\n  };\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}